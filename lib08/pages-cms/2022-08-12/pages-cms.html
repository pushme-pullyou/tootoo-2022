<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=contain">
	<meta name="description"
		content="File wrangler. Default index.html file. Opens HTML or Markdown files. Passes location.hash.">
	<meta name="keywords" content="ShowDown,Markdown,AJAX,JavaScript,HTML,CSS,GitHub,FOSS">
	<meta name="date" content="2022-08-12">
	<title></title>
	<link id=CORstyle rel="stylesheet" href="../../../lib01/style/style-2022-01-01.css">
	<style>
		:root {
			--mnu-width: 20rem;
			--main-hue: 240;
			/* 0 to 360 0=red 120=green 240=blue */
		}

		body {
			font: 100% monospace;
		}

		main {
			overflow: auto;
		}

		#MNUdivHeader {
			margin: 1.5rem 0 0 0;
		}
	</style>
</head>

<body>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js"></script>


	<div id=MNUdivShowHide>

		<details id=detNavMenu class="gmd-4">

			<summary id=sumNavMenu class="summary-nav gmd-1" title="click to view or hide menu">
				☰ <span id=spnMenuHelp>show&darr; || hide&uarr; menu</span>
			</summary>

			<nav id="navMenu" class="gmd-4">

				<div id=MNUdivHeader>

					<header>

						<h1>
							<a id=MNUaSource href="" target="_top" title="Click to go to the source code on GitHub">
								<img src="https://pushme-pullyou.github.io/tootoo-2022/assets/icons/mark-github.svg">
							</a>

							<a href="" title="Click this title to reload this page">
								<span id=MNUspnTitle>Title</span>
								<span id=MNUspnVersion>Version</span></a>
							<span id="MNUinfoBox"></span>

						</h1>

					</header>

				</div>

				<div id=MNUdivExtras>
					<button onclick=document.body.style.fontSize="80%" ;sumNavMenu.style.width="10rem" ;
						style="font-size:80%;">A</button>
					<button onclick=document.body.style.fontSize="100%" ;sumNavMenu.style.width="13rem" ;
						style="font-size:100%;">A</button>
					<button onclick=document.body.style.fontSize="150%" ;sumNavMenu.style.width="20rem" ;
						style="font-size:150%;">A</button>
				</div>

				<div id=MNUdivContent>

					<p><a href="#../../../test-cases/markdown.md" >markdown</a></p>
					<p><a href="#../../../test-cases/sample.md" >sample.md</a></p>

					<p><a href="#../../../test-cases/"></a></p>
					<p><a href="#../../../test-cases/"></a></p>
					<p><a href="#../../../test-cases/"></a></p>
					<p><a href="#../../../test-cases/system-map.gif">system-map.gif</a></p>
					<p><a href="#../../../test-cases/text-to-hack.html">text-to-hack.html</a></p>
					<p><a href="#../../../test-cases/text.txt">test.txt</a></p>


					<p><a href="#../../../test-cases/"></a></p>


					<details class=detNavMenuXX id=detView ontoggle="">

						<summary class="summary-primary gmd-1" title="View selected model aspects">
							MNU view menu
							<span class="info">
								<img class=infoImg src="https://pushme-pullyou.github.io/tootoo-2022/assets/icons/noun_Information_585560.svg">
								<div class="infoTooltip gmd-5">Files to try</div>
							</span>
						</summary>

						<div class=divNavResize>

							<h3>test 1</h3>
							<div>
								lorem ipsum, quia dolor sit, amet, consectetur, adipisci velit, sed quia non numquam
								eius modi tempora incidunt, ut labore et dolore magnam aliquam quaerat voluptatem. ut
								enim ad minima veniam, quis nostrum exercitationem ullam corporis suscipit laboriosam,
								nisi ut aliquid ex ea commodi consequatur? quis autem vel eum iure reprehenderit, qui in
								ea voluptate velit esse, quam nihil molestiae consequatur, vel illum, qui dolorem eum
								fugiat, quo voluptas nulla pariatur?
							</div>

						</div>

					</details>
				</div>

				<div id=MNUdivSample></div>

				<div id=MNUdivFooter>

					<footer>

						<div id=divLog></div>

						<hr>

						<center>
							<a id=MNUaIcon class=aDingbat href="javascript:MNUspnTitle.scrollIntoView();"
								title="Scroll to top">
								a
							</a>
						</center>

					</footer>

				</div>

			</nav>

		</details>
	</div>

	<main id=main>

		<div id="divMainContent">
			<h1>test</h1>
			<p>
				lorem ipsum, quia dolor sit, amet, consectetur, adipisci velit, sed quia non numquam eius modi tempora
				incidunt, ut labore et dolore magnam aliquam quaerat voluptatem. ut enim ad minima veniam, quis nostrum
				exercitationem ullam corporis suscipit laboriosam, nisi ut aliquid ex ea commodi consequatur? quis autem
				vel eum iure reprehenderit, qui in ea voluptate velit esse, quam nihil molestiae consequatur, vel illum,
				qui dolorem eum fugiat, quo voluptas nulla pariatur?
			</p>
		</div>

	</main>

	<script>

		const COR = {

			description: document.head.querySelector( "[ name=description ]" ).content,
			iconExternalFile: `<img class=infoImg  src="https://pushme-pullyou.github.io/tootoo-2022/assets/icons/icon-external-link.svg">`,
			iconGitHub: `<img src="https://pushme-pullyou.github.io/tootoo-2022/assets/icons/mark-github.svg">`,
			iconInfo: `<img class=infoImg src="https://pushme-pullyou.github.io/tootoo-2022/assets/icons/noun_Information_585560.svg">`,
			iconRepo: "❦",
			title: document.title ? document.title : location.href.split( "/" ).pop().slice( 0, - 5 ).replace( /-/g, " " ),
			version: document.head.querySelector( "[ name=date ]" ).content,

			pathContent: "../../",
			defaultFile: "README.md",

			urlSource: "https://github.com/pushme-pullyou/tootoo-2022/tree/main/lib01/mnu-menu/", ////////// remember to update
		};

		COR.addInfoBox = function ( text = COR.description, id = "" ) {

			const htm = `
<span class="info">
	${ COR.iconInfo }
	<div class="infoTooltip gmd-5">
		<div id=${ id } >${ text }</div>
	</div>
</span>`;

			return htm;

		};


	defaultFile = "../README.md";

		init();

		function init () {

			MNUaSource.innerHTML = COR.iconGitHub;
			MNUaSource.href = COR.urlSource;
			MNUspnTitle.innerHTML = COR.title;
			MNUspnVersion.innerHTML = COR.version;
			MNUaIcon.innerHTML = COR.iconRepo;
			COR.infoBoxHtm = COR.description ? COR.description : COR.info;
			MNUinfoBox.innerHTML = COR.addInfoBox();


			if ( window.innerWidth < 800 || window.innerHeight < 500 ) {

				sumNavMenu.hidden = false;
				detNavMenu.open = false;

			} else {

				const value = window.getComputedStyle( document.documentElement ).getPropertyValue( '--mnu-width' ); // #999999
				//console.log( "value", value );
				detNavMenu.style.width = value;
				detNavMenu.style.maxWidth = "50%";
				detNavMenu.open = true;
				//navMenu.hidden = false;
				sumNavMenu.hidden = true;
			}

			showdown.setFlavor( "github" );

			if ( !location.hash ) { location.hash = defaultFile; }

			//location.hash.endsWith( ".md" ) ? onHashChange() : window.location.href = location.hash.slice( 1 );

			window.addEventListener( "hashchange", onHashChange, false );

		}

		function onHashChange () {

				const url = location.hash.slice( 1 );
				document.title = url.split( "/" ).pop();
				const options = { openLinksInNewWindow: false, excludeTrailingPunctuationFromURLs: true, ghMention: true, simplifiedAutoLink: true, simpleLineBreaks: true, emoji: true };

				const xhr = new XMLHttpRequest();
				xhr.open( "get", url, true );
				xhr.onload = () => {
					let txt = xhr.responseText;
					txt = txt.replace( /\<!--@@@/, "" ).replace( /\@@@-->/, "" );
					divMainContent.innerHTML = new showdown.Converter( options ).makeHtml( txt );
					window.scrollTo( 0, 0 );
				};
				xhr.send( null );

			}


	</script>

</body>

</html>